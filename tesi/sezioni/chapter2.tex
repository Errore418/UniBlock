\myChapter{Concetti essenziali sulla blockchain}
Nella sua più primitiva definizione una blockchain è una struttura dati in grado di registrare informazioni e garantirne l'immutabilità nel tempo, ridondando i dati su un gran numero di nodi senza che sia necessaria un'entità centrale che vigili su possibili minacce o malfunzionamenti. Concepita nel 2008 da Satoshi Nakamoto \cite{satoshi} come mezzo per decentralizzare il mondo delle transazioni finanziarie, è stata oggetto nel corso del tempo di un forte interesse accademico e commerciale venendo applicata in un gran numero di scenari diversi. Pur essendo presenti sul panorama attuale svariati esempi di blockchain anche molto diverse tra loro in complessità e implementazione, possiamo individuarne alcune primitive di base comuni a tutte loro.

\section{Struttura a blocchi}
Ogni blockchain è composta da vari blocchi di informazione legati fra loro tramite l'uso di hash crittografici (\ref{hash}). Infatti per garantire l'integrità dei dati ogni blocco contiene l'hash del blocco precedente, così che un cambiamento nell'informazione contenuta in un blocco verrà subito riconosciuto da un semplice controllo sugli hash. All'interno di un blocco le informazioni sono generalmente organizzate in una lista di transazioni, chiamate così a causa del loro concepimento in ambiente di transazioni economiche nella rete Bitcoin. Per ottimizzare il processo di hashing delle transazioni viene generalmente impiegato un albero di Merkle: si costruisce un albero binario avente come foglie gli hash di tutte le transazioni di un blocco e ogni altro nodo conterrà l'hash della concatenatione dei suoi due figli. Procedendo così dal basso verso l'alto l'hash contenuto nella radice dell'albero sarà l'hash che rappresentetà l'intera lista di transazioni e l'unico elemento che verrà incluso nel calcolo dell'hash del blocco. Tale struttura ad albero permette una notevole flessibilità nel processo di verica delle transazioni, infatti se si è interessati alla verifica dell'integrità di una singola transazione basterà chiedere agli altri nodi di fornire gli hash intermedi utili a ricostruire solo il particolare ramo della transazione in esame. Del resto una modifica a una transazione qualsiasi comporterebbe una modifica in cascata di tutti gli hash fino a quello di radice, venendo bloccata subito dal controllo degli hash sui blocchi.

\section{Modalità di accesso alla rete}
Una prima differenza fondamentale delle blockchain è la modalità con cui i nuovi nodi possono entrare a far parte della rete. Nelle blockchain pubbliche qualunque dispositivo può diventare un nodo della rete senza alcun controllo sulla sua legittimità. Per questo motivo tali blockchain prendono il nome di permissionless blockchain in quanto non c'è alcuna differenza gerarchica tra i vari nodi e chiunque può entrare a farne parte. In generale questo tipo di blockchain presenta un numero di partecipanti molto elevato grazie alla bassa soglia di entrata. Nelle blockchain private invece l'entrata nella rete è preceduta da una fase di autenticazione del soggetto come l'appartenenza a una determinata azienda. Tali blockchain sono quindi confinate nelle realtà che le sviluppano e le loro pool di nodi sono di conseguenza molto ridotte in quanto solo chi è qualificato può entrare a farne parte. Inoltre riflettendo la gerarchia dell'organizzazione proprietaria della blockchain sono in genere presenti differenze di responsabilità tra i vari nodi, da qui il nome di permissioned blockchain. Possiamo identificare inoltre un terzo tipo di blockchain, quello ibrido, in cui vengono uniti alcune caratteristiche delle blockchain pubbliche con quelle private. Nelle blockchain ibride alcune funzioni sono lasciate come pubbliche mentre altre richiedono una preventiva autenticazione. Le blockchain pubbliche sono di gran lunga il tipo più comune di blockchain, ma quelle private stanno guadagnando terreno avendo attirato l'attenzione del mondo finanziario \cite{HELLIAR2020102136}.

\section{Algoritmo di consenso}
Data la natura distribuita di una blockchain è di fondamentale importanza la ricerca del consenso tra i nodi, ovvero che ogni transazione generata venga validata e diffusa attraverso la rete rimanendo inalterata. Il primo algoritmo di consenso concepito è la proof of work: l'immutabilità dei dati è garantita dalla difficoltà di computare rapidamente un puzzle crittografico. Nella rete Bitcoin ad esempio un nuovo blocco è considerato valido quando viene trovato un numero tale che inserito nell'header del blocco stesso rende il suo hash inferiore a una certà quantità. Variando tale quantità è possibile modulare il carico dei blocchi generati dall'intera rete, dando il tempo ai blocchi di diffondersi tra i vari nodi. Ogni nodo dà la sua fiducia alla catena di blocchi in cui è stata spesa la maggior quantità di lavoro computazionale. Un algoritmo di consenso concepito più recentemente è la proof of stake: i nuovi blocchi vengono validati da nodi scelti casualmente in base a quanta valuta hanno investito nella rete. Pur ritenendo un certo livello di casualità, l'algoritmo di selezione del prossimo validatore privilegia i maggiori scommettitori. La legittimità della rete è garantita perciò dal fatto che chi ha investito maggiormente avrà interesse nel suo corretto funzionamento. La rete Ethereum prevede di effettuare il cambio da proof of work a proof of stake nei prossimi anni. Per un'analisi dettagliata sugli algoritmi di consenso fare riferimento a \cite{8632190}.

\section{Privacy e sicurezza}
Nelle blockchain pubbliche il contenuto dei blocchi è disponibile a ogni nodo senza alcuna protezione. Assume grande importanza quindi avere sempre ben presente quali informazioni si stanno immettendo nella rete in chiaro e quali invece si cerca di proteggere. Nella rete Bitcoin tutto il contenuto di un blocco è presente completamente in chiaro tanto da poter ricostruire la storia di ogni singolo bitcoin fino al momento della sua coniazione. In questo caso la privacy offerta agli utenti si limita alla loro anonimizzazione nella rete offrendo indirizzi usa e getta senza legami con l'identità legale del soggetto che li possiede. Anche la rete Ethereum non prevede di base alcuna forma di cifrazione del contenuto dei blocchi, essendo tuttavia presenti delle forme di privacy a zero conoscienza implementabili come zk-SNARKS per nascondere integralmente il contenuto di una transazione \cite{snark}. Discorso diverso invece per le blockchain private in quanto la preventiva autenticazione dei nodi permette di garantire che le informazioni contenute nei blocchi siano consultabili solo da soggetti autorizzati, non rendendo necessari complessi sistemi di crittografia per garantire la riservatezza delle informazioni.

\section{Confronto di alcune blockchain}
Di seguito una comparazione di tre grandi blockchain moderne con UniBlock:
\newline
\newline
\centerline{
\begin{tabular}{ |c||c|c|c|c| } 
 \hline
 & \large{\textit{\textbf{Bitcoin}}} & \large{\textit{\textbf{Ethereum}}} & \large{\textit{\textbf{Hyperledger Fabric}}} & \large{\textit{\textbf{UniBlock}}} \\ 
 \hline
 \hline
 \large{\textit{\textbf{Accesso}}} & Pubblica & Pubblica & Privata & Ibrida \\ 
 \hline
 \large{\textit{\textbf{Consenso}}} & Proof of work & Proof of work & Crash Fault Tolerance & Proof of work \\ 
 \hline
 \large{\textit{\textbf{Privacy}}} & Non crittografata & Non crittografata & Non crittografata & Crittografata \\
 \hline
\end{tabular}
}
